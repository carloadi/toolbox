<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Adi's Toolkit</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 2rem;
      background-color: white;
      color: black;
      transition: background-color 0.3s, color 0.3s;
    }
    .dark-mode {
      background-color: #121212;
      color: white;
    }
    .converter {
      margin: 1.5rem 0;
    }
    label, select, input {
      display: inline-block;
      margin: 0.5rem 0;
    }
    button {
      margin-top: 1rem;
    }
    .timezone {
      margin: 1rem 0;
    }
    .toggle-btn {
      position: fixed;
      top: 1rem;
      right: 1rem;
      padding: 0.5rem 1rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <button class="toggle-btn" onclick="toggleTheme()">Toggle Light/Dark</button>
  <h1>Adi's Personal Toolkit</h1>

  <section class="converter">
    <h2>Timezone Clock (24h)</h2>
    <div id="timezones"></div>
  </section>

  <section class="converter">
    <h2>LPS ↔ m³/h Converter</h2>
    <input type="number" id="lps" placeholder="Liters per second (LPS)" oninput="convertLpsM3()">
    ↔
    <input type="number" id="m3h" placeholder="Cubic meters per hour (m³/h)" oninput="convertM3Lps()">
  </section>

  <section class="converter">
    <h2>GPM ↔ LPS Converter</h2>
    <input type="number" id="gpm1" placeholder="Gallons per minute (GPM)" oninput="convertGpmLps()">
    ↔
    <input type="number" id="lps2" placeholder="Liters per second (LPS)" oninput="convertLpsGpm()">
  </section>

  <section class="converter">
    <h2>GPM ↔ m³/h Converter</h2>
    <input type="number" id="gpm2" placeholder="Gallons per minute (GPM)" oninput="convertGpmM3()">
    ↔
    <input type="number" id="m3h2" placeholder="Cubic meters per hour (m³/h)" oninput="convertM3Gpm()">
  </section>

  <script>
    const timezones = [
      { label: 'Taipei', zone: 'Asia/Taipei' },
      { label: 'Los Angeles', zone: 'America/Los_Angeles' },
      { label: 'Chicago', zone: 'America/Chicago' },
      { label: 'UK', zone: 'Europe/London' },
      { label: 'New York', zone: 'America/New_York' },
      { label: 'Melbourne', zone: 'Australia/Melbourne' },
    ];

    function updateClocks() {
      const container = document.getElementById("timezones");
      container.innerHTML = "";
      const now = new Date();
      timezones.forEach(tz => {
        const time = new Intl.DateTimeFormat('en-GB', {
          hour: '2-digit',
          minute: '2-digit',
          timeZone: tz.zone,
          hour12: false
        }).format(now);
        const div = document.createElement("div");
        div.className = "timezone";
        div.innerHTML = `<strong>${tz.label}:</strong> ${time}`;
        container.appendChild(div);
      });
    }
    setInterval(updateClocks, 1000);
    updateClocks();

    function convertLpsM3() {
      const lps = parseFloat(document.getElementById('lps').value);
      document.getElementById('m3h').value = lps ? (lps * 3.6).toFixed(3) : '';
    }
    function convertM3Lps() {
      const m3h = parseFloat(document.getElementById('m3h').value);
      document.getElementById('lps').value = m3h ? (m3h / 3.6).toFixed(3) : '';
    }

    function convertGpmLps() {
      const gpm = parseFloat(document.getElementById('gpm1').value);
      document.getElementById('lps2').value = gpm ? (gpm * 0.06309).toFixed(3) : '';
    }
    function convertLpsGpm() {
      const lps = parseFloat(document.getElementById('lps2').value);
      document.getElementById('gpm1').value = lps ? (lps / 0.06309).toFixed(3) : '';
    }

    function convertGpmM3() {
      const gpm = parseFloat(document.getElementById('gpm2').value);
      document.getElementById('m3h2').value = gpm ? (gpm * 0.2271).toFixed(3) : '';
    }
    function convertM3Gpm() {
      const m3h = parseFloat(document.getElementById('m3h2').value);
      document.getElementById('gpm2').value = m3h ? (m3h / 0.2271).toFixed(3) : '';
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
    }
  </script>
</body>
</html>
